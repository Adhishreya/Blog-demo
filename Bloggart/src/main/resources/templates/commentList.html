<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">BG</a>
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" th:href="@{/loginSuccess}">Home</a></li>
				</ul>
				<div class="d-flex justify-content-between">
					<a class="btn btn-success me-2" th:text="${username}"></a> <a
						class="btn btn-success me-2" th:href="@{/logout}">Logout</a>
				</div>
			</div>
		</div>
	</nav>



	<div class="container">
		<div class="list-group">
			<div class="list-group-item" th:object="${postE}">

				<div th:each="userEntity : ${postE.user}">
					<small th:text="${userEntity.username}"></small>

					<div class="fw-bold" th:text="${postE.postHeader}"></div>
					<div th:text="${postE.postBody}"></div>
					~<small th:text="${postE.postedAtAt}"></small>
					<div class="d-flex w-100">
						<i class="bi bi-heart mx-2"></i>
						<div th:text=${postE.likes}></div>

						<a th:href="@{${'/commentList/'+postE.id}}"><i
							class="bi bi-menu-up mx-2"></i></a>

						<div th:if="${successName == userEntity.email}">
							<i class="bi bi-trash-fill" data-bs-toggle="modal"
								data-bs-target="#exampleModal"></i>
						</div>
						<div th:if="${successName != userEntity.email}">
							<a th:href="@{/comment(id=${postE.id})}"><i
								class="bi bi-reply-fill"></i></a>
						</div>


						<!-- Modal -->
						<div class="modal fade" id="exampleModal" tabindex="-1"
							aria-labelledby="exampleModalLabel" aria-hidden="true">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabel">Delete
											Post</h5>
										<button type="button" class="btn-close"
											data-bs-dismiss="modal" aria-label="Close"></button>
									</div>
									<div class="modal-body">
										<p class="text-danger">This operation cannot be undone</p>
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-secondary"
											data-bs-dismiss="modal">Close</button>
										<a class="btn btn-success me-2"
											th:href="@{/deletePost(id=${postE.id})}">Confirm</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<ul class="list-group">
			<li list-group-item th:if="${commentsE.empty}">
				<ul class="list-group">No Comments available
				</ul>
			</li>
			<!-- 			<li class="list-group-item" th:each="postE : ${commentsE}"> -->
			<!-- 				<div class="d-flext"> -->
			<!-- 					<div th:each="userEntity : ${postE.user}"> -->
			<!-- 						<small th:text="${userEntity.username}"></small> -->


			<!-- 						<div class="fw-bold" th:text="${postE.postHeader}"></div> -->
			<!-- 						<div th:text="${postE.postBody}"></div> -->
			<!-- 						~<small th:text="${postE.postedAtAt}"></small> -->
			<!-- 						<div class="d-flex w-100"> -->
			<!-- 							<i class="bi bi-heart mx-2"></i> -->
			<!-- 							<div th:text=${postE.likes}></div> -->

			<!-- 							<a th:href="@{${'/commentList/'+postE.id}}"><i -->
			<!-- 								class="bi bi-menu-up mx-2"></i></a> -->

			<!-- 							<div th:if="${successName == userEntity.email}"> -->
			<!-- 								<i class="bi bi-trash-fill" data-bs-toggle="modal" -->
			<!-- 									data-bs-target="#exampleModal"></i> -->
			<!-- 							</div> -->
			<!-- 							<div th:if="${successName != userEntity.email}"> -->
			<!-- 								<a th:href="@{/comment(id=${postE.id})}"><i -->
			<!-- 									class="bi bi-reply-fill"></i></a> -->
			<!-- 							</div> -->


			<!-- 							Modal -->
			<!-- 							<div class="modal fade" id="exampleModal" tabindex="-1" -->
			<!-- 								aria-labelledby="exampleModalLabel" aria-hidden="true"> -->
			<!-- 								<div class="modal-dialog"> -->
			<!-- 									<div class="modal-content"> -->
			<!-- 										<div class="modal-header"> -->
			<!-- 											<h5 class="modal-title" id="exampleModalLabel">Delete -->
			<!-- 												Post</h5> -->
			<!-- 											<button type="button" class="btn-close" -->
			<!-- 												data-bs-dismiss="modal" aria-label="Close"></button> -->
			<!-- 										</div> -->
			<!-- 										<div class="modal-body"> -->
			<!-- 											<p class="text-danger">This operation cannot be undone</p> -->
			<!-- 										</div> -->
			<!-- 										<div class="modal-footer"> -->
			<!-- 											<button type="button" class="btn btn-secondary" -->
			<!-- 												data-bs-dismiss="modal">Close</button> -->
			<!-- 																						<button type="button" class="btn btn-primary">Save -->
			<!-- 																							changes</button> -->
			<!-- 																						<form action="#" method="post" th:action="@{/deletePost}" -->
			<!-- 																							th:object="${postE}"> -->
			<!-- 																							<button class="btn btn-success me-2" type="submit">Confirm</button> -->
			<!-- 																							<a class="btn btn-success me-2" th:href="@{'/deletePost'(id=${postE.id})/}">Confirm</a> -->
			<!-- 											<a class="btn btn-success me-2" -->
			<!-- 												th:href="@{/deletePost(id=${postE.id})}">Confirm</a> -->
			<!-- 																						</form> -->
			<!-- 										</div> -->
			<!-- 									</div> -->
			<!-- 								</div> -->
			<!-- 							</div> -->
			<!-- 						</div> -->
			<!-- 					</div> -->
			<!-- 				</div> -->
			<!-- 			</li> -->
		</ul>
	</div>
</body>
</html>